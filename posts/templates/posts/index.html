{% extends "base.html" %}

{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'posts/style.css' %}" type="text/css" />
{% endblock %}

{% block content %}
    <div class="container">
        <h1>Posts</h1>
    {% if posts %}
        <table class="table">
            <thead class="thead-dark">
              <tr>
                <th>#</th>
                <th>작성자</th>
                <th>본문</th>
                <th>게시일</th>
                <th>상세</th>
              </tr>
            </thead>
            <tbody>
                {% for post in posts %}
                  <tr>
                      <th>{{ post.id }}</th>
                      <th>{{ post.user.get_username }}</th>
                      <th>{{ post.body }}</th>
                      <th>{{ post.created_at }}</th>
                      <td><a href="{% url 'posts:detail' post.id %}">보기</a></td>
                  </tr>
                  {% endfor %}
            </tbody>
        </table>
 
    {% else %}
         <p>No posts.</p>
    {% endif %}
    <a href="{% url 'posts:new' %}">글쓰기</a>
    </div>
{% endblock %}